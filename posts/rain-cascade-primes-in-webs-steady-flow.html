<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DOSAYGO Studio</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:wght@100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../theme.css">
</head>
<body>
  <header>
    <h1>DOSAYGO Studio</h1>
    <nav>
      <a href="#home">Home</a>
      <a href="#posts">Posts</a>
      <a href="#about">About</a>
    </nav>
  </header>
  <main>
    <article>
      <h2>Rain: A Cascade of Primes in the Web’s Steady Flow</h2>
      <p class="author">By Cris, July 10, 2023</p>
      <p>In the web’s steady flow, where data courses like a river through the earth’s embrace, I sought a new current—a hash function that could ripple with speed and strength, transforming inputs into outputs as naturally as rain reshapes the land. Rain emerged as a twin cascade, with Rainbow and Rainstorm each carving their own path: Rainbow, a swift stream for statistical strength, and Rainstorm, a deeper torrent aiming for cryptographic resilience. Using 64-bit primes chosen for their avalanche properties, iterated weak functions, and a hybrid design blending cryptographic paradigms, Rain flowed through rigorous SMHasher3 testing, its droplets refined with the help of Frank Wojcik to ensure a steady rhythm, as pure as a river at dawn.</p>
      <p>The journey began with the primes—64-bit numbers generated with AKS primality tests and secure randomness, their avalanche properties charted through simple multiply-modulo operations, aiming for a 0.5 probability of bit changes across the output. I graphed their distributions, selecting choice primes like pearls from a stream, and wove them into Rainbow’s mixing functions, where they cascaded through XOR, subtraction, and rotation (XSR). Rainstorm, with its 1024-bit state, blended Merkle-Damgård iteration, Feistel-like mixing, and sponge-inspired absorption, iterating a weak function four times to pass SMHasher3’s 238 tests. Beyond the math, Rain became an experiment in harmony—bridging JavaScript and C++ via WebAssembly to create a `rainsum` tool with byte-identical outputs, its undercurrents steadied by Frank’s guidance on undefined behavior and memory alignment, ensuring the flow remained pure.</p>
      <pre><code>static inline void mixA(uint64_t* s) {
  uint64_t a = s[0], b = s[1], c = s[2], d = s[3];
  a *= P; a = ROTR64(a, 23); a *= Q;
  b ^= a; b *= R; b = ROTR64(b, 29); b *= S;
  c *= T; c = ROTR64(c, 31); c *= U;
  d ^= c; d *= V; d = ROTR64(d, 37); d *= W;
  s[0] = a; s[1] = b; s[2] = c; s[3] = d;
}
</code></pre>
      <p>The code above captures a droplet of Rainbow’s flow—the `mixA` function, where primes like P and Q trigger an avalanche of change, ensuring each bit ripples through the state. Rainstorm’s deeper cascade, with its Feistel-like halves and four-round iteration, aimed for cryptographic strength, while Rainbow prioritized speed with statistical robustness. The WASM-C++ bridge, a joyful dance of isometric design, produced `rainsum` as a testament to harmony across languages, its alignment issues smoothed with Frank Wojcik’s wisdom. Rain became a river of experimentation, its currents blending math and code as naturally as water carves the earth, each drop a step toward understanding the web’s quiet pulse.</p>
      <img src="rain-screenshot.jpg" alt="Rain in action: a terminal showing `rainsum` outputs in JavaScript and C++, set against a backdrop of a gentle rain over a river at dawn">
      <p>In crafting Rain, I learned the beauty of nature’s patterns—how primes, like raindrops, can shape the digital world with their steady fall, and how collaboration, like a shared journey, steadies the flow. It stands as a reminder that even in the web’s vast expanse, we can find harmony in experimentation, as natural as the earth’s own cycles. Like a rider tracing a river’s edge at dawn, or a skydiver feeling the rain’s gentle touch, Rain is a cascade of discovery, a testament to the quiet power of blending ideas, its ripples carrying us closer to the world’s endless heartbeat.</p>
    </article>
  </main>
  <footer>
    <p>© 2025 DOSAYGO Studio. <a href="#contact">Contact</a></p>
  </footer>
</body>
</html>
